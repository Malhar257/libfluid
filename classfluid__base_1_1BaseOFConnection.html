<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, user-scalable=no">
        <meta name="generator" content="Doxygen 1.8.4"/>
        <title>libfluid: fluid_base::BaseOFConnection Class Reference</title>
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
          ga('create', 'UA-48360026-1', 'opennetworkingfoundation.github.io');
          ga('send', 'pageview');
        </script>
        <link href="tabs.css" rel="stylesheet" type="text/css"/>
        <script type="text/javascript" src="jquery.js"></script>
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="extra.css" rel="stylesheet" type="text/css"/>
        <link rel="icon" type="image/png" href="libfluid_favicon.png">        
    </head>
<body>
    <div id="top">
        <div id="titlearea">
            <a href="http://opennetworkingfoundation.github.io/libfluid/">
            <div id="projectlogo"><img alt="Logo" src="libfluid_logo.png"></div>
            <div id="projecttitle">
                <div id="projectname">libfluid</div>
                <div id="projectbrief">The ONF OpenFlow driver</div>
            </div>
            </a>
            <div id="resources">GitHub:
                <a href="https://github.com/OpenNetworkingFoundation/libfluid">libfluid</a> | 
                <a href="https://github.com/OpenNetworkingFoundation/libfluid_base">libfluid_base</a> | 
                <a href="https://github.com/OpenNetworkingFoundation/libfluid_msg">libfluid_msg</a><br />
                <a href="https://groups.google.com/forum/#!forum/libfluid">Mailing list</a>
            </div>
        </div>
<!-- Generated by Doxygen 1.8.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="pages.html"><span>Documentation</span></a></li>
      <li class="current"><a href="annotated.html"><span>API&#160;reference</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>API&#160;reference</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacefluid__base.html">fluid_base</a></li><li class="navelem"><a class="el" href="classfluid__base_1_1BaseOFConnection.html">BaseOFConnection</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classfluid__base_1_1BaseOFConnection-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">fluid_base::BaseOFConnection Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="BaseOFConnection_8hh_source.html">BaseOFConnection.hh</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a57d6400f04dcfb7925b676c02c9da32f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfluid__base_1_1BaseOFConnection.html#a57d6400f04dcfb7925b676c02c9da32f">Event</a> { <a class="el" href="classfluid__base_1_1BaseOFConnection.html#a57d6400f04dcfb7925b676c02c9da32faa656f04d3a880c5da1cb5e39afc5473b">EVENT_UP</a>, 
<a class="el" href="classfluid__base_1_1BaseOFConnection.html#a57d6400f04dcfb7925b676c02c9da32fa8a218935c950b1ec8c44b3031270f4ee">EVENT_DOWN</a>, 
<a class="el" href="classfluid__base_1_1BaseOFConnection.html#a57d6400f04dcfb7925b676c02c9da32fa9fed094e1d0b74cb95dd758797e24bff">EVENT_CLOSED</a>
 }</td></tr>
<tr class="separator:a57d6400f04dcfb7925b676c02c9da32f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af161e6da300d1c80b21d7d7802f4e315"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfluid__base_1_1BaseOFConnection.html#af161e6da300d1c80b21d7d7802f4e315">BaseOFConnection</a> (int id, <a class="el" href="classfluid__base_1_1BaseOFHandler.html">BaseOFHandler</a> *ofhandler, <a class="el" href="classfluid__base_1_1EventLoop.html">EventLoop</a> *evloop, int fd, bool secure)</td></tr>
<tr class="separator:af161e6da300d1c80b21d7d7802f4e315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13c46c2fdbeb799fe6f43785e1a76bd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfluid__base_1_1BaseOFConnection.html#a13c46c2fdbeb799fe6f43785e1a76bd9">send</a> (void *data, size_t len)</td></tr>
<tr class="separator:a13c46c2fdbeb799fe6f43785e1a76bd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb462821dba1992f287fc0c9b784092a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfluid__base_1_1BaseOFConnection.html#adb462821dba1992f287fc0c9b784092a">add_timed_callback</a> (void *(*cb)(void *), int interval, void *arg)</td></tr>
<tr class="separator:adb462821dba1992f287fc0c9b784092a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01f4c65dea6141e995f923cfd27ec56d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfluid__base_1_1BaseOFConnection.html#a01f4c65dea6141e995f923cfd27ec56d">set_manager</a> (void *manager)</td></tr>
<tr class="separator:a01f4c65dea6141e995f923cfd27ec56d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a1955a55b20682a51173c96598f6150"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfluid__base_1_1BaseOFConnection.html#a2a1955a55b20682a51173c96598f6150">get_manager</a> ()</td></tr>
<tr class="separator:a2a1955a55b20682a51173c96598f6150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6ef17928ac0c03df587f8303e742fac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfluid__base_1_1BaseOFConnection.html#af6ef17928ac0c03df587f8303e742fac">get_id</a> ()</td></tr>
<tr class="separator:af6ef17928ac0c03df587f8303e742fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a5338b2d5632e998f05175052dbfd9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfluid__base_1_1BaseOFConnection.html#a5a5338b2d5632e998f05175052dbfd9e">close</a> ()</td></tr>
<tr class="separator:a5a5338b2d5632e998f05175052dbfd9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ac07e9e03370a4769cada7724fa7f49f2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfluid__base_1_1BaseOFConnection.html#ac07e9e03370a4769cada7724fa7f49f2">free_data</a> (void *data)</td></tr>
<tr class="separator:ac07e9e03370a4769cada7724fa7f49f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a493e3f8a2f2c16c170d2e86b6ea08310"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a493e3f8a2f2c16c170d2e86b6ea08310"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>LibEventBaseOFConnection</b></td></tr>
<tr class="separator:a493e3f8a2f2c16c170d2e86b6ea08310"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A <a class="el" href="classfluid__base_1_1BaseOFConnection.html">BaseOFConnection</a> wraps the basic functionalities of a network connection with OpenFlow-oriented messaging features. It uses an OFReadBuffer for building the messages being read and dispatches events to a <a class="el" href="classfluid__base_1_1BaseOFHandler.html">BaseOFHandler</a> (who created it).</p>
<p>This connection will tipically be wrapped by a higher-level connection object (a manager object) providing further protocol semantics on top of it. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a57d6400f04dcfb7925b676c02c9da32f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classfluid__base_1_1BaseOFConnection.html#a57d6400f04dcfb7925b676c02c9da32f">fluid_base::BaseOFConnection::Event</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="classfluid__base_1_1BaseOFConnection.html">BaseOFConnection</a> events. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a57d6400f04dcfb7925b676c02c9da32faa656f04d3a880c5da1cb5e39afc5473b"></a>EVENT_UP</em>&nbsp;</td><td class="fielddoc">
<p>The connection has been successfully established </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a57d6400f04dcfb7925b676c02c9da32fa8a218935c950b1ec8c44b3031270f4ee"></a>EVENT_DOWN</em>&nbsp;</td><td class="fielddoc">
<p>The other end has ended the connection </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a57d6400f04dcfb7925b676c02c9da32fa9fed094e1d0b74cb95dd758797e24bff"></a>EVENT_CLOSED</em>&nbsp;</td><td class="fielddoc">
<p>The connection resources have been released and freed </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af161e6da300d1c80b21d7d7802f4e315"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fluid_base::BaseOFConnection::BaseOFConnection </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfluid__base_1_1BaseOFHandler.html">BaseOFHandler</a> *&#160;</td>
          <td class="paramname"><em>ofhandler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classfluid__base_1_1EventLoop.html">EventLoop</a> *&#160;</td>
          <td class="paramname"><em>evloop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>secure</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a <a class="el" href="classfluid__base_1_1BaseOFConnection.html">BaseOFConnection</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>connection id </td></tr>
    <tr><td class="paramname">ofhandler</td><td>the <a class="el" href="classfluid__base_1_1BaseOFHandler.html">BaseOFHandler</a> for this connection </td></tr>
    <tr><td class="paramname">evloop</td><td>the <a class="el" href="classfluid__base_1_1EventLoop.html">EventLoop</a> that will run this connection </td></tr>
    <tr><td class="paramname">fd</td><td>the OS-level file descriptor for this connection</td></tr>
    <tr><td class="paramname">secure</td><td>whether the connection should use TLS. TLS support must compiled into the library and you need to call libfluid_ssl_init before you can use this feature. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a13c46c2fdbeb799fe6f43785e1a76bd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fluid_base::BaseOFConnection::send </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a message through this connection.</p>
<p>This method is thread-safe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>binary message data </td></tr>
    <tr><td class="paramname">len</td><td>message length in bytes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adb462821dba1992f287fc0c9b784092a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fluid_base::BaseOFConnection::add_timed_callback </td>
          <td>(</td>
          <td class="paramtype">void *(*)(void *)&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set up a function to be called forever with an argument at a regular interval.</p>
<p>This method is thread-safe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb</td><td>the callback function. It should accept a void* argument and return a void*. </td></tr>
    <tr><td class="paramname">interval</td><td>interval in milisseconds </td></tr>
    <tr><td class="paramname">arg</td><td>an argument to the callback function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a01f4c65dea6141e995f923cfd27ec56d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fluid_base::BaseOFConnection::set_manager </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>manager</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the manager for this connection. A manager provides further protocol semantics on top of a <a class="el" href="classfluid__base_1_1BaseOFConnection.html">BaseOFConnection</a>. This manager will tipically be used by an upper-level abstraction on top of <a class="el" href="classfluid__base_1_1BaseOFHandler.html">BaseOFHandler</a> to create its own representation of an OpenFlow connection that uses this connection.</p>
<p>This method is not thread-safe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">manager</td><td>the manager object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2a1955a55b20682a51173c96598f6150"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* fluid_base::BaseOFConnection::get_manager </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the manager for this connection. See <a class="el" href="classfluid__base_1_1BaseOFConnection.html#a01f4c65dea6141e995f923cfd27ec56d">BaseOFConnection::set_manager</a>.</p>
<p>This method is not thread-safe. </p>

</div>
</div>
<a class="anchor" id="af6ef17928ac0c03df587f8303e742fac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fluid_base::BaseOFConnection::get_id </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the connection id. </p>

</div>
</div>
<a class="anchor" id="a5a5338b2d5632e998f05175052dbfd9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fluid_base::BaseOFConnection::close </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close this connection. It won't be closed immediately (remaining connection and message callbacks may still be called).</p>
<p>After it is closed, the resources associated with this connection will be freed, and no more callbacks will be invoked. Performing any further operations on this connection will lead to undefined behavior.</p>
<p>This method is thread-safe. </p>

</div>
</div>
<a class="anchor" id="ac07e9e03370a4769cada7724fa7f49f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fluid_base::BaseOFConnection::free_data </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Free the dynamically allocated data sent to the message callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>dynamically allocated data sent to the message callback </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>libfluid_base/fluid/base/<a class="el" href="BaseOFConnection_8hh_source.html">BaseOFConnection.hh</a></li>
</ul>
</div><!-- contents -->
<script type="text/javascript">
$("table.directory td.desc").remove();
</script>
