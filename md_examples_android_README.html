<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, user-scalable=no">
        <meta name="generator" content="Doxygen 1.8.4"/>
        <title>libfluid: Android port of libfluid</title>
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
          ga('create', 'UA-48360026-1', 'opennetworkingfoundation.github.io');
          ga('send', 'pageview');
        </script>
        <link href="tabs.css" rel="stylesheet" type="text/css"/>
        <script type="text/javascript" src="jquery.js"></script>
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="extra.css" rel="stylesheet" type="text/css"/>
        <link rel="icon" type="image/png" href="libfluid_favicon.png">        
    </head>
<body>
    <div id="top">
        <div id="titlearea">
            <a href="http://opennetworkingfoundation.github.io/libfluid/">
            <div id="projectlogo"><img alt="Logo" src="libfluid_logo.png"></div>
            <div id="projecttitle">
                <div id="projectname">libfluid</div>
                <div id="projectbrief">The ONF OpenFlow driver</div>
            </div>
            </a>
            <div id="resources">GitHub:
                <a href="https://github.com/OpenNetworkingFoundation/libfluid">libfluid</a> | 
                <a href="https://github.com/OpenNetworkingFoundation/libfluid_base">libfluid_base</a> | 
                <a href="https://github.com/OpenNetworkingFoundation/libfluid_msg">libfluid_msg</a><br />
                <a href="https://groups.google.com/forum/#!forum/libfluid">Mailing list</a>
            </div>
        </div>
<!-- Generated by Doxygen 1.8.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li class="current"><a href="pages.html"><span>Documentation</span></a></li>
      <li><a href="annotated.html"><span>API&#160;reference</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Android port of libfluid </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This port proves that <b>libfluid</b> and its dependencies can be cross-compiled to another architecture (ARM), and also showcases a neat (but rather useless) OpenFlow controller running as an Android app.</p>
<p>It uses the application set of the <b>msg</b> controller from the <code>controller</code> example and adds a controller (<code>AndroidController.cc</code>) that establishes a JNI binding for Android.</p>
<h2>Building</h2>
<p>To build it, you need the <a href="http://developer.android.com/sdk/index.html">Android SDK</a> and the <a href="http://developer.android.com/tools/sdk/ndk/index.html">Android NDK</a>.</p>
<p>You will need the <code>android-8</code> platform (Android 2.2).</p>
<p>Then grab the sources for <b>libfluid_base</b>, <b>libfluid_msg</b> and <a href="http://libevent.org/">libevent 2.0</a> and place them in the <code>jni</code> folder.</p>
<p>Adjust the variables <code>LIBEVENT_DIR</code>, <code>LIBFLUID_BASE_DIR</code>, <code>LIBFLUID_MSG_DIR</code> and <code>NDK_ROOT</code> in <code>build_libs.sh</code> if you need.</p>
<p>To build the libraries, just run: </p>
<div class="fragment"><div class="line">$ ./build_libs.sh</div>
</div><!-- fragment --><blockquote class="doxtable">
<p>We're building without TLS support. We've successfully built with SSL support in our tests, but we didn't include it in the default configuration to make it easier and faster. You can find commented code in <code>build_libs.sh</code> that builds OpenSSL for Android.</p>
<p></p>
</blockquote>
<p>Import the project in <code>android</code> to the Eclipse workspace (File, Import..., General, Existing Projects into Workspace). If you copy the sources, make sure you place and build the libraries in the copied location.</p>
<h2>Running</h2>
<blockquote class="doxtable">
<p>This example uses the new, IANA-defined OpenFlow port: <b>6653</b> instead of the previous, non-standard default (6633).</p>
<p></p>
</blockquote>
<p>Just build and run the project as usual.</p>
<p>If you are running the Android SDK emulator, forward port 6653 in the virtual device to your host so that OpenFlow switches can connect to it: </p>
<div class="fragment"><div class="line">$ telnet localhost 5554</div>
<div class="line">redir add tcp:6653:6653</div>
</div><!-- fragment --><p>The app will display the log output for the controller on the screen.</p>
<h2>Known issues</h2>
<p><b>libfluid_base</b> and <b>libfluid_msg</b> are both compiled using static STL implementations. We should be using a shared version for both to avoid potential issues. But getting it to compile and run is troublesome this way (that is, I don't know how to make it work). </p>
</div></div><!-- contents -->
<script type="text/javascript">
$("table.directory td.desc").remove();
</script>
